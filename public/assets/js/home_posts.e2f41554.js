{let t=function(){let t=$("#new-post-form");t.submit((function(n){n.preventDefault(),$.ajax({type:"post",url:"/posts/newpost",data:t.serialize(),success:function(t){let n=e(t.data.post);$("#posts-list-container>ul").prepend(n),o($(".delete-post-button",n)),new ToggleLike($(".toggle-like-button",n)),console.log(t.data.postID),new CommentClass(t.data.postID),new Noty({theme:"metroui",text:"Post published!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},e=function(t){return $(`<li id="post-${t._id}" class="post">\n                        <p class="partition">\n                                <small>\n                                    <a class="delete-post-button" href="/posts/destroy/${t._id}">Delete</a>\n                                </small>\n                            <br>\n                            <small class="name">\n                                ${t.user.name}\n                            </small>\n                            <br>\n                            <small class="post-content">\n                            ${t.content}\n                            </small>\n                            <br>\n                            <small>\n                                    <a class="toggle-like-button" data-likes="0" href="/likes/toggle/?id=${t._id}&type=Post">\n                                    <i class="fas fa-thumbs-up"></i>0 Likes\n                                    </a>\n                            </small>\n                        </p>\n                        <div id="post-${t._id}-comment-list">\n                        <ul>\n                            <div id="post-comments">\n                              \n                                    <form action="/comments/newcomment" id="post-${t._id}-comment-form"method="post">\n                                        <input type="text" name="content" placeholder="Type here to comment.." required>\n                                        <input type="hidden" name="hidden_id" value="${t._id}">\n                                        <input type="submit" value="Add Comment">\n                                    </form>\n                        \n                            </div>\n                        </ul>\n                    </div> \n                    </li>`)},o=function(t){console.log($(t)),$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){console.log(t.data.post_id),$("#post-"+t.data.post_id).remove(),new Noty({theme:"metroui",text:"Post Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},n=function(){$("#posts-list-container>ul>li").each((function(){let t=$(this);console.log(t);let e=$(" .delete-post-button",t);o(e),console.log("post to ajax ");let n=t.prop("id").split("-")[1];console.log(n),new CommentClass(n)}))};t(),n()}